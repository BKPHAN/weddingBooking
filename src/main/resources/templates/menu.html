<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thực Đơn - Tràng An Palace</title>
    <meta name="description"
        content="Khám phá thực đơn tiệc cưới đẳng cấp với hơn 200 món ăn Á - Âu tinh tế tại Tràng An Palace.">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@400;700&family=Great+Vibes&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <div th:replace="~{fragments/header :: header}"></div>

    <!-- Hero Banner -->
    <section class="menu-hero">
        <div class="menu-hero-overlay"></div>
        <img th:src="@{/images/menu/menu-hero.jpg}" alt="Thực Đơn Tràng An Palace" class="menu-hero-bg"
            onerror="this.src='https://placehold.co/1920x600?text=Culinary+Art'">
        <div class="menu-hero-content">
            <p style="font-family: var(--font-accent); font-size: 2.5rem; color: var(--color-gold);">Tinh Hoa Ẩm Thực
            </p>
            <h1>Hương Vị Hạnh Phúc</h1>
            <p>Sự kết hợp hoàn hảo giữa ẩm thực Á Đông truyền thống và phong cách Âu Châu hiện đại</p>
        </div>
    </section>

    <!-- Search Section -->
    <div class="container" style="position: relative; z-index: 10;">
        <div class="search-container">
            <div class="search-input-wrapper">
                <input type="text" id="menuSearch" class="search-input"
                    placeholder="Tìm kiếm thực đơn... (hoặc nói 'Gà', 'Hải sản'...)">
                <button id="menuMicBtn" class="search-mic" title="Tìm kiếm bằng giọng nói" style="display: none;">
                    <i class="fas fa-microphone"></i>
                </button>
            </div>
            <button class="search-btn" onclick="performSearch(document.getElementById('menuSearch').value)">
                <i class="fas fa-search"></i> Tìm Kiếm
            </button>
        </div>
        <p id="speechStatus" class="text-center"
            style="margin-top: 5px; font-size: 0.9rem; min-height: 20px; color: var(--color-gold);"></p>
    </div>

    <!-- Chef Introduction -->
    <section class="section">
        <div class="container">
            <div class="d-flex align-center gap-40 mobile-col-rev">
                <div style="flex: 1;">
                    <p style="font-family: var(--font-accent); font-size: 1.5rem; color: var(--color-gold);">Lời Ngỏ</p>
                    <h2 class="text-teal" style="margin-bottom: 20px;">Từ Bếp Trưởng</h2>
                    <p style="margin-bottom: 20px; line-height: 1.8; color: var(--color-text-light);">
                        "Tại Tràng An Palace, mỗi món ăn không chỉ là sự kết hợp của nguyên liệu thượng hạng,
                        mà còn là tác phẩm nghệ thuật chứa đựng tâm huyết của người đầu bếp.
                        Chúng tôi mong muốn mang đến cho quý khách một hành trình vị giác đầy cảm xúc."
                    </p>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <img th:src="@{/images/menu/chef-sig.png}" alt="Chữ ký" style="height: 50px;"
                            onerror="this.style.display='none'">
                        <div>
                            <h4 style="margin: 0; color: var(--color-teal);">Lê Minh Châu</h4>
                            <p style="margin: 0; font-size: 0.9rem; color: var(--color-text-muted);">Executive Chef</p>
                        </div>
                    </div>
                </div>
                <div style="flex: 1; position: relative;">
                    <img th:src="@{/images/menu/chef.jpg}" alt="Executive Chef"
                        style="width: 100%; border-radius: var(--border-radius); box-shadow: var(--shadow-card);"
                        onerror="this.src='https://placehold.co/600x400?text=Executive+Chef'">
                </div>
            </div>
        </div>
    </section>

    <!-- Menu Tabs -->
    <section class="section bg-light" id="menu-content">
        <div class="container">
            <div class="text-center" style="margin-bottom: 50px;">
                <h2 class="text-teal">Khám Phá Thực Đơn</h2>
                <div class="menu-tabs">
                    <button class="menu-tab active" onclick="switchMenu('set-menu')">Set Menu Cưới</button>
                    <button class="menu-tab" onclick="switchMenu('alacarte')">Thực Đơn Tự Chọn</button>
                    <button class="menu-tab" onclick="switchMenu('vegetarian')">Thực Đơn Chay</button>
                    <button class="menu-tab" onclick="switchMenu('drinks')">Đồ Uống</button>
                </div>
            </div>

            <!-- Set Menu Content -->
            <div id="set-menu" class="menu-panel active">
                <div class="grid-col-3" style="gap: 30px;">
                    <!-- Menu Ruby -->
                    <div class="menu-card">
                        <div class="menu-header">
                            <h3>Thực Đơn Ruby</h3>
                            <p class="price">4.500.000đ/bàn</p>
                        </div>
                        <ul class="menu-list">
                            <li>Súp Hải Sản Bào Ngư</li>
                            <li>Gà Hấp Hành Gừng</li>
                            <li>Tôm Chiên Hoàng Bào</li>
                            <li>Bò Sốt Tiêu Đen + Bánh Bao</li>
                            <li>Cá Lăng Nướng Riềng Mẻ</li>
                            <div class="grid-col-2">
                                <div class="menu-card featured">
                                    <span class="popular-badge">Phổ Biến Nhất</span>
                                    <div class="menu-header">
                                        <h3>Thực Đơn Như Ý</h3>
                                        <div class="price">4.500.000 VNĐ / Bàn</div>
                                    </div>
                                    <ul class="menu-list">
                                        <li>Súp Hải Sản Tuyết Nhĩ</li>
                                        <li>Gà Quay Mật Ong Sốt Tiêu Đen</li>
                                        <li>Tôm Sú Chiên Hoàng Bào</li>
                                        <li>Cá Diêu Hồng Hấp Xì Dầu</li>
                                        <li>Bò Sốt Vang Kèm Bánh Mì</li>
                                        <li>Cải Chip Xào Nấm Đông Cô</li>
                                        <li>Cơm Chiên Dương Châu</li>
                                        <li>Tráng Miệng: Chè Sen Long Nhãn</li>
                                    </ul>
                                </div>
                                <div class="menu-card">
                                    <div class="menu-header">
                                        <h3>Thực Đơn Cát Tường</h3>
                                        <div class="price">5.200.000 VNĐ / Bàn</div>
                                    </div>
                                    <ul class="menu-list">
                                        <li>Salad Rong Nho Trứng Cua</li>
                                        <li>Súp Bào Ngư Vi Cá</li>
                                        <li>Tôm Hùm Bỏ Lò Phô Mai (1/2 con)</li>
                                        <li>Bò Fuji Áp Chảo Sốt Rượu Vang</li>
                                        <li>Chim Câu Quay Ngũ Vị</li>
                                        <li>Lẩu Thái Hải Sản Đặc Biệt</li>
                                        <li>Tráng Miệng: Bánh Mousse Chanh Leo</li>
                                    </ul>
                                </div>
                            </div>
                    </div>

                    <!-- Other Panels (Placeholder) -->
                    <div id="alacarte" class="menu-panel">
                        <div class="alert alert-info text-center">Đang cập nhật danh sách món tự chọn...</div>
                    </div>
                    <div id="vegetarian" class="menu-panel">
                        <div class="alert alert-info text-center">Đang cập nhật thực đơn chay...</div>
                    </div>
                    <div id="drinks" class="menu-panel">
                        <div class="alert alert-info text-center">Đang cập nhật danh sách đồ uống...</div>
                    </div>

                </div>
    </section>

    <!-- Featured Dishes -->
    <section class="section bg-light">
        <div class="container">
            <div class="section-header text-center">
                <h2>Món Ngon Đặc Sắc</h2>
                <div class="divider-icon">
                    <i class="fas fa-utensils"></i>
                </div>
            </div>

            <div class="dish-grid">
                <!-- Dish 1 -->
                <div class="dish-item">
                    <img th:src="@{/images/menu/dish-1.jpg}" alt="Dish 1">
                    <div class="dish-info">
                        <h4>Bò Wagyu Sốt Tiêu</h4>
                        <p>Thịt bò thượng hạng mềm tan trong miệng</p>
                    </div>
                </div>
                <!-- Dish 2 -->
                <div class="dish-item">
                    <img th:src="@{/images/menu/dish-2.jpg}" alt="Dish 2">
                    <div class="dish-info">
                        <h4>Tôm Hùm Alaska</h4>
                        <p>Chế biến theo phong cách Âu tinh tế</p>
                    </div>
                </div>
                <!-- Dish 3 -->
                <div class="dish-item">
                    <img th:src="@{/images/menu/dish-3.jpg}" alt="Dish 3">
                    <div class="dish-info">
                        <h4>Sashimi Tổng Hợp</h4>
                        <p>Hải sản tươi sống nhập khẩu trực tiếp</p>
                    </div>
                </div>
                <!-- Dish 4 -->
                <div class="dish-item">
                    <img th:src="@{/images/menu/dish-4.jpg}" alt="Dish 4">
                    <div class="dish-info">
                        <h4>Súp Vi Cá Thượng Hạng</h4>
                        <p>Món khai vị đẳng cấp hoàng gia</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="cta-section">
        <div class="container">
            <h2>Trải Nghiệm Ẩm Thực Đỉnh Cao</h2>
            <p style="margin-bottom: 30px;">Đăng ký nếm thử thực đơn ngay hôm nay để có lựa chọn hoàn hảo nhất cho ngày
                trọng đại</p>
            <a href="/contact" class="btn btn-primary" style="background: transparent; border: 2px solid #fff;">Đăng Ký
                Nếm Thử</a>
        </div>
    </section>


    <div th:replace="~{fragments/footer :: footer}"></div>

    <script th:src="@{/js/main.js}"></script>
    <script>
        function switchMenu(menuId) {
            // Update buttons
            document.querySelectorAll('.menu-tab').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Show content
            document.querySelectorAll('.menu-panel').forEach(panel => {
                panel.classList.remove('active');
                if (panel.id === menuId) {
                    panel.classList.add('active');
                    // Add animation class
                    panel.style.opacity = 0;
                    setTimeout(() => panel.style.opacity = 1, 50);
                }
            });
        }

        // Search Logic
        const searchInput = document.getElementById('menuSearch');

        function performSearch(query) {
            query = query.toLowerCase();
            // Filter Menu List
            document.querySelectorAll('.menu-list li').forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(query) ? 'block' : 'none';
            });

            // Filter Signature Dishes
            document.querySelectorAll('.dish-item').forEach(item => {
                const title = item.querySelector('h4').textContent.toLowerCase();
                item.style.display = title.includes(query) ? 'block' : 'none';
            });
        }

        searchInput.addEventListener('input', function (e) {
            performSearch(e.target.value);
        });

        // Speech Recognition Setup
        const micBtn = document.getElementById('menuMicBtn');
        const speechStatus = document.getElementById('speechStatus');

        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            // Show mic button if supported
            micBtn.style.display = 'block';

            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();

            recognition.continuous = false;
            recognition.lang = 'vi-VN';
            recognition.interimResults = false;

            micBtn.addEventListener('click', () => {
                if (micBtn.classList.contains('listening')) {
                    recognition.stop();
                } else {
                    recognition.start();
                }
            });

            recognition.onstart = () => {
                micBtn.classList.add('listening');
                speechStatus.textContent = "Đang lắng nghe...";
            };

            recognition.onend = () => {
                micBtn.classList.remove('listening');
                speechStatus.textContent = "";
            };

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                searchInput.value = transcript;
                performSearch(transcript);
                speechStatus.textContent = `Đã tìm: "${transcript}"`;
                setTimeout(() => speechStatus.textContent = "", 3000);
            };

            recognition.onerror = (event) => {
                console.error('Speech recognition error', event.error);
                micBtn.classList.remove('listening');
                speechStatus.textContent = "Không nghe rõ, vui lòng thử lại.";
            };
        } else {
            console.log('Web Speech API not supported in this browser.');
        }

    </script>
</body>

</html>