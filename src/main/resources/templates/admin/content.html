<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n tr·ªã N·ªôi dung</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
<div class="admin-layout">
    <aside class="admin-sidebar">
        <div class="sidebar-header">
            <span class="sidebar-logo">Wedding Admin</span>
        </div>
        <nav class="sidebar-nav">
            <a href="/admin/dashboard" class="sidebar-link">
                <span class="sidebar-icon" aria-hidden="true">üè†</span>
                <span class="sidebar-label">T·ªïng quan</span>
            </a>
            <a href="/admin/content" class="sidebar-link active">
                <span class="sidebar-icon" aria-hidden="true">üóÇ</span>
                <span class="sidebar-label">N·ªôi dung</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <a href="/wedding" class="sidebar-link sidebar-public">
                <span class="sidebar-icon" aria-hidden="true">‚Üó</span>
                <span class="sidebar-label">Trang c√¥ng khai</span>
            </a>
        </div>
    </aside>

    <div class="admin-main">
        <header class="admin-topbar">
            <div class="topbar-left">
                <button class="hamburger" id="sidebar-toggle" type="button" aria-label="Thu g·ªçn menu" aria-expanded="true">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div>
                    <h1>Trung T√¢m Ti·ªác C∆∞·ªõi - Qu·∫£n l√Ω n·ªôi dung</h1>
                    <p class="admin-subtitle">T√πy ch·ªânh s·∫£nh, th·ª±c ƒë∆°n v√† th∆∞ vi·ªán media</p>
                </div>
            </div>
            <div class="topbar-right">
                <div class="user-menu">
                    <button class="user-menu-toggle" id="user-menu-toggle" type="button" aria-expanded="false">
                        <span class="user-menu-name" th:text="${currentUserDisplayName}">Qu·∫£n tr·ªã vi√™n</span>
                        <span class="user-menu-caret" aria-hidden="true">‚ñæ</span>
                    </button>
                    <div class="user-menu-dropdown" id="user-menu-dropdown" role="menu">
                        <a href="#" role="menuitem" data-profile-trigger>Xem th√¥ng tin</a>
                        <form th:action="@{/logout}" method="post" class="user-menu-logout">
                            <button type="submit" role="menuitem">ƒêƒÉng xu·∫•t</button>
                        </form>
                    </div>
                </div>
            </div>
        </header>
        <main class="admin-container">
            <div id="content-error" class="error-banner"></div>
        
            <section class="form-wrapper">
                <h2 class="section-title">Th√™m s·∫£nh</h2>
                <form id="hall-form">
                    <div class="form-grid">
                        <div>
                            <label for="hall-code">M√£</label>
                            <input id="hall-code" name="code" required>
                        </div>
                        <div>
                            <label for="hall-name">T√™n</label>
                            <input id="hall-name" name="name" required>
                        </div>
                        <div>
                            <label for="hall-capacity">S·ª©c ch·ª©a</label>
                            <input type="number" id="hall-capacity" name="capacity" min="1" required>
                        </div>
                        <div>
                            <label for="hall-base-price">Gi√° c∆° b·∫£n</label>
                            <input type="number" id="hall-base-price" name="basePrice" min="0" required>
                        </div>
                        <div>
                            <label for="hall-amenities">Ti·ªán √≠ch (m·∫£ng JSON)</label>
                            <input id="hall-amenities" name="amenities" placeholder='["M√†n LED","Trang tr√≠"]'>
                        </div>
                        <div>
                            <label for="hall-image">ƒê∆∞·ªùng d·∫´n ·∫£nh</label>
                            <input id="hall-image" name="imageUrl">
                        </div>
                        <div>
                            <label for="hall-order">Th·ª© t·ª± hi·ªÉn th·ªã</label>
                            <input type="number" id="hall-order" name="displayOrder" min="0">
                        </div>
                    </div>
                    <div style="margin-top:16px;">
                        <button type="submit">T·∫°o s·∫£nh</button>
                    </div>
                </form>
            </section>
        
            <section>
                <h2 class="section-title">Danh s√°ch s·∫£nh</h2>
                <table>
                    <thead>
                    <tr>
                        <th>M√£</th>
                        <th>T√™n</th>
                        <th>S·ª©c ch·ª©a</th>
                        <th>Gi√° c∆° b·∫£n</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>Thao t√°c</th>
                    </tr>
                    </thead>
                    <tbody id="hall-table-body"></tbody>
                </table>
            </section>
        
            <section id="hall-edit-wrapper" class="form-wrapper" style="display:none;">
                <h2 class="section-title">Ch·ªânh s·ª≠a s·∫£nh</h2>
                <form id="hall-edit-form">
                    <input type="hidden" id="hall-edit-id">
                    <div class="form-grid">
                        <div>
                            <label for="hall-edit-code">M√£</label>
                            <input id="hall-edit-code" name="code" required>
                        </div>
                        <div>
                            <label for="hall-edit-name">T√™n</label>
                            <input id="hall-edit-name" name="name" required>
                        </div>
                        <div>
                            <label for="hall-edit-capacity">S·ª©c ch·ª©a</label>
                            <input type="number" id="hall-edit-capacity" name="capacity" min="1" required>
                        </div>
                        <div>
                            <label for="hall-edit-base-price">Gi√° c∆° b·∫£n</label>
                            <input type="number" id="hall-edit-base-price" name="basePrice" min="0" required>
                        </div>
                        <div>
                            <label for="hall-edit-amenities">Ti·ªán √≠ch (JSON)</label>
                            <input id="hall-edit-amenities" name="amenities">
                        </div>
                        <div>
                            <label for="hall-edit-image">ƒê∆∞·ªùng d·∫´n ·∫£nh</label>
                            <input id="hall-edit-image" name="imageUrl">
                        </div>
                        <div>
                            <label for="hall-edit-order">Th·ª© t·ª± hi·ªÉn th·ªã</label>
                            <input type="number" id="hall-edit-order" name="displayOrder" min="0">
                        </div>
                        <div>
                            <label for="hall-edit-active">K√≠ch ho·∫°t</label>
                            <select id="hall-edit-active" name="active">
                                <option value="true">ƒêang b·∫≠t</option>
                                <option value="false">ƒê√£ t·∫Øt</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-top:16px;">
                        <button type="submit">L∆∞u s·∫£nh</button>
                        <button type="button" id="hall-edit-cancel" style="margin-left:8px;">H·ªßy</button>
                    </div>
                </form>
            </section>
        
            <section class="form-wrapper">
                <h2 class="section-title">Th√™m th·ª±c ƒë∆°n</h2>
                <form id="menu-form">
                    <div class="form-grid">
                        <div>
                            <label for="menu-name">T√™n</label>
                            <input id="menu-name" name="name" required>
                        </div>
                        <div>
                            <label for="menu-price">Gi√°</label>
                            <input type="number" id="menu-price" name="price" min="0" required>
                        </div>
                        <div>
                            <label for="menu-category">Ph√¢n lo·∫°i</label>
                            <input id="menu-category" name="category" required>
                        </div>
                        <div>
                            <label for="menu-description">M√¥ t·∫£</label>
                            <textarea id="menu-description" name="description" rows="3"></textarea>
                        </div>
                        <div>
                            <label for="menu-image">ƒê∆∞·ªùng d·∫´n ·∫£nh</label>
                            <input id="menu-image" name="imageUrl">
                        </div>
                    </div>
                    <div style="margin-top:16px;">
                        <label><input type="checkbox" id="menu-featured" name="featured"> N·ªïi b·∫≠t</label>
                        <button type="submit" style="margin-left:16px;">T·∫°o th·ª±c ƒë∆°n</button>
                    </div>
                </form>
            </section>
        
            <section>
                <h2 class="section-title">Danh s√°ch th·ª±c ƒë∆°n</h2>
                <table>
                    <thead>
                    <tr>
                        <th>T√™n</th>
                        <th>Ph√¢n lo·∫°i</th>
                        <th>Gi√°</th>
                        <th>N·ªïi b·∫≠t</th>
                        <th>Thao t√°c</th>
                    </tr>
                    </thead>
                    <tbody id="menu-table-body"></tbody>
                </table>
            </section>
        
            <section id="menu-edit-wrapper" class="form-wrapper" style="display:none;">
                <h2 class="section-title">Ch·ªânh s·ª≠a th·ª±c ƒë∆°n</h2>
                <form id="menu-edit-form">
                    <input type="hidden" id="menu-edit-id">
                    <div class="form-grid">
                        <div>
                            <label for="menu-edit-name">T√™n</label>
                            <input id="menu-edit-name" name="name" required>
                        </div>
                        <div>
                            <label for="menu-edit-price">Gi√°</label>
                            <input type="number" id="menu-edit-price" name="price" min="0" required>
                        </div>
                        <div>
                            <label for="menu-edit-category">Ph√¢n lo·∫°i</label>
                            <input id="menu-edit-category" name="category" required>
                        </div>
                        <div>
                            <label for="menu-edit-description">M√¥ t·∫£</label>
                            <textarea id="menu-edit-description" name="description" rows="3"></textarea>
                        </div>
                        <div>
                            <label for="menu-edit-image">ƒê∆∞·ªùng d·∫´n ·∫£nh</label>
                            <input id="menu-edit-image" name="imageUrl">
                        </div>
                        <div>
                            <label for="menu-edit-featured">N·ªïi b·∫≠t</label>
                            <select id="menu-edit-featured" name="featured">
                                <option value="true">C√≥</option>
                                <option value="false">Kh√¥ng</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-top:16px;">
                        <button type="submit">L∆∞u th·ª±c ƒë∆°n</button>
                        <button type="button" id="menu-edit-cancel" style="margin-left:8px;">H·ªßy</button>
                    </div>
                </form>
            </section>
        
            <section class="form-wrapper">
                <h2 class="section-title">Th∆∞ vi·ªán media</h2>
                <div class="form-grid" style="margin-bottom: 16px;">
                    <div>
                        <label for="album-select">Album</label>
                        <select id="album-select">
                            <option value="">-- Ch·ªçn album --</option>
                        </select>
                    </div>
                </div>
                <form id="media-item-form">
                    <div class="form-grid">
                        <div>
                            <label for="media-title">Ti√™u ƒë·ªÅ</label>
                            <input id="media-title" name="title" required>
                        </div>
                        <div>
                            <label for="media-type">Lo·∫°i</label>
                            <select id="media-type" name="type" required>
                                <option value="IMAGE">H√åNH ·∫¢NH</option>
                                <option value="VIDEO">VIDEO</option>
                            </select>
                        </div>
                        <div>
                            <label for="media-url">ƒê∆∞·ªùng d·∫´n</label>
                            <input id="media-url" name="url" required>
                        </div>
                        <div>
                            <label for="media-file">T·∫£i t·ªáp</label>
                            <input type="file" id="media-file" accept="image/*,video/*">
                            <button type="button" id="media-upload-btn" style="margin-top:8px;">T·∫£i l√™n &amp; ƒëi·ªÅn URL</button>
                        </div>
                        <div>
                            <label for="media-thumb">ƒê∆∞·ªùng d·∫´n thumbnail</label>
                            <input id="media-thumb" name="thumbnailUrl">
                        </div>
                        <div>
                            <label for="media-order">Th·ª© t·ª± hi·ªÉn th·ªã</label>
                            <input type="number" id="media-order" name="displayOrder" min="0">
                        </div>
                    </div>
                    <div style="margin-top:16px;">
                        <button type="submit">Th√™m media</button>
                    </div>
                </form>
            </section>
        
            <section>
                <table>
                    <thead>
                    <tr>
                        <th>Ti√™u ƒë·ªÅ</th>
                        <th>Lo·∫°i</th>
                        <th>Li√™n k·∫øt</th>
                        <th>Th·ª© t·ª±</th>
                        <th>Thao t√°c</th>
                    </tr>
                    </thead>
                    <tbody id="media-table-body"></tbody>
                </table>
            </section>
        </main>
    </div>
</div>

<script th:src="@{/js/admin-layout.js}" defer></script>
<script th:src="@{/js/admin-content.js}" defer></script>
<div th:replace="~{admin/fragments/profile-modal :: profile-modal}"></div>
</body>
</html>
