<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·∫£ng ƒëi·ªÅu khi·ªÉn Qu·∫£n tr·ªã</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
<div class="admin-layout">
    <aside class="admin-sidebar">
        <div class="sidebar-header">
            <span class="sidebar-logo">Wedding Admin</span>
        </div>
        <nav class="sidebar-nav">
            <a href="/admin/dashboard" class="sidebar-link active">
                <span class="sidebar-icon" aria-hidden="true">üè†</span>
                <span class="sidebar-label">T·ªïng quan</span>
            </a>
            <a href="/admin/content" class="sidebar-link">
                <span class="sidebar-icon" aria-hidden="true">üóÇ</span>
                <span class="sidebar-label">N·ªôi dung</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <a href="/wedding" class="sidebar-link sidebar-public">
                <span class="sidebar-icon" aria-hidden="true">‚Üó</span>
                <span class="sidebar-label">Trang c√¥ng khai</span>
            </a>
        </div>
    </aside>

    <div class="admin-main">
        <header class="admin-topbar">
            <div class="topbar-left">
                <button class="hamburger" id="sidebar-toggle" type="button" aria-label="Thu g·ªçn menu" aria-expanded="true">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div>
                    <h1>Trung T√¢m Ti·ªác C∆∞·ªõi - Qu·∫£n tr·ªã</h1>
                    <p class="admin-subtitle">Theo d√µi s·ªë li·ªáu ƒë·∫∑t ti·ªác v√† li√™n h·ªá</p>
                </div>
            </div>
            <div class="topbar-right">
                <div class="user-menu">
                    <button class="user-menu-toggle" id="user-menu-toggle" type="button" aria-expanded="false">
                        <span class="user-menu-name" th:text="${currentUserDisplayName}">Qu·∫£n tr·ªã vi√™n</span>
                        <span class="user-menu-caret" aria-hidden="true">‚ñæ</span>
                    </button>
                    <div class="user-menu-dropdown" id="user-menu-dropdown" role="menu">
                        <a href="#" role="menuitem" data-profile-trigger>Xem th√¥ng tin</a>
                        <form th:action="@{/logout}" method="post" class="user-menu-logout">
                            <button type="submit" role="menuitem">ƒêƒÉng xu·∫•t</button>
                        </form>
                    </div>
                </div>
            </div>
        </header>

        <main class="admin-container">
    <div id="dashboard-error" class="error-banner"></div>

    <section class="cards">
        <div class="card">
            <h3>T·ªïng s·ªë ƒë·∫∑t ti·ªác</h3>
            <p id="total-bookings">--</p>
        </div>
        <div class="card">
            <h3>Doanh thu d·ª± ki·∫øn</h3>
            <p id="expected-revenue">--</p>
        </div>
        <div class="card">
            <h3>Li√™n h·ªá ch∆∞a x·ª≠ l√Ω</h3>
            <p id="pending-contacts">--</p>
        </div>
    </section>

    <section>
        <h2 class="section-title">ƒê·∫∑t ti·ªác theo tr·∫°ng th√°i</h2>
        <div id="booking-status-bars" class="cards" style="grid-template-columns: repeat(auto-fit,minmax(280px,1fr));"></div>
    </section>

    <section>
        <div style="display:flex;justify-content:space-between;align-items:center;">
            <h2 class="section-title" style="margin-bottom:0;">L·ªãch ƒë·∫∑t s·∫Øp di·ªÖn ra</h2>
            <div>
                <label for="booking-filter" style="margin-right:8px;">Kho·∫£ng th·ªùi gian</label>
                <select id="booking-filter">
                    <option value="7">7 ng√†y</option>
                    <option value="30" selected>30 ng√†y</option>
                    <option value="90">90 ng√†y</option>
                </select>
            </div>
        </div>
        <table>
            <thead>
            <tr>
                <th>C√¥ d√¢u &amp; Ch√∫ r·ªÉ</th>
                <th>Ng√†y</th>
                <th>Khung gi·ªù</th>
                <th>S·∫£nh</th>
                <th>Kh√°ch</th>
            </tr>
            </thead>
            <tbody id="upcoming-bookings-body">
            </tbody>
        </table>
    </section>

    <section>
        <h2 class="section-title">Li√™n h·ªá g·∫ßn nh·∫•t</h2>
        <table>
            <thead>
            <tr>
                <th>T√™n</th>
                <th>Email</th>
                <th>Ch·ªß ƒë·ªÅ</th>
                <th>G·∫Øn c·ªù</th>
                <th>Th·ªùi gian t·∫°o</th>
            </tr>
            </thead>
            <tbody id="recent-contacts-body">
            </tbody>
        </table>
    </section>
        </main>
    </div>
</div>

<script th:src="@{/js/admin-layout.js}" defer></script>
<script th:src="@{/js/admin-dashboard.js}" defer></script>
<div th:replace="~{admin/fragments/profile-modal :: profile-modal}"></div>
</body>
</html>
